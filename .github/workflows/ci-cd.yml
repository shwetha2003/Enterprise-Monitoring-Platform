# Add this job to your existing ci-cd.yml
  security-checks:
    runs-on: ubuntu-latest
    continue-on-error: true  # Don't fail the pipeline on security warnings
    
    steps:
    - name: Checkout repository
      uses: actions/checkout@v4
    
    - name: Run basic security checks
      run: |
        echo "Running basic security checks..."
        
        # Check for exposed secrets in code
        echo "1. Checking for exposed secrets..."
        SECRETS_FOUND=$(grep -r "SECRET_KEY\|API_KEY\|password[=:]" \
          --include="*.py" --include="*.js" --include="*.jsx" \
          --exclude-dir=node_modules --exclude-dir=__pycache__ \
          . 2>/dev/null | grep -v ".env.example" | wc -l)
        
        if [ $SECRETS_FOUND -gt 0 ]; then
          echo "::warning::Found $SECRETS_FOUND potential secrets in code"
          grep -r "SECRET_KEY\|API_KEY\|password[=:]" \
            --include="*.py" --include="*.js" --include="*.jsx" \
            --exclude-dir=node_modules --exclude-dir=__pycache__ \
            . 2>/dev/null | grep -v ".env.example"
        else
          echo "✅ No obvious secrets found"
        fi
        
        # Check dependency vulnerabilities
        echo ""
        echo "2. Checking Python dependencies..."
        cd backend
        pip install safety 2>/dev/null || true
        safety check --short-report 2>/dev/null || echo "Safety check skipped"
        
        echo ""
        echo "3. Checking Node.js dependencies..."
        cd ../frontend
        npm audit --audit-level=high 2>/dev/null || echo "npm audit skipped"
        
        echo ""
        echo "✅ Basic security checks completed"
